%=================== 
% Thesis Style File
%===================
% This style file is originally borrowed from Rein Otsason, and was adapted by
% Adan Moran-MacDonald for his own purposes.
%
% Please copy this to ~/texmf/tex/latex/local/adanstyle.sty before using.
%
% Additional instructions are at the bottom of this file.

%---------- General ----------%
% Standalone is for external image files, and must be loaded first
\usepackage{standalone} 
\usepackage{hyperref}

%---------- Math packages ----------%
\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{amsthm}
\usepackage{bm}
% Allows for simple SI unit management, number management, etc
% See tug.ctan.org/macros/latex/exptl/siunitx/siunitx.pdf
\usepackage{siunitx}

%% Define theorem styles
% Optional: put [thm] between }{ to have everything depend on section number
\newtheorem{thm}{Theorem}[chapter] % Uncomment: reset numbering at each chapter
\newtheorem{prop}[thm]{Proposition} % Propositions depend on Theorem number
\newtheorem{lemma}[thm]{Lemma} % Same with lemmas
\newtheorem*{cor}{Corollary}

\theoremstyle{remark}
\newtheorem*{remark}{Remark}
\newtheorem*{notation}{Notation}

\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition} % Definitions depend on theorem number
\newtheorem*{problem}{Problem}
\newtheorem{example}{Example}
\newtheorem{assm}{Assumption} % Assumptions do not reset 

%---------- Custom Math ----------%
\DeclarePairedDelimiter{\norm}{\lVert}{\rVert}
\DeclarePairedDelimiter{\abs}{\lvert}{\rvert}
\DeclareMathOperator{\adj}{adj}
\DeclareMathOperator{\Span}{span}
\DeclareMathOperator{\Image}{Im}
\DeclareMathOperator{\Rank}{rank}
\DeclareMathOperator{\Hess}{Hess}
\DeclareMathOperator{\Sign}{sgn}
\newcommand*{\rank}[1]{\Rank\left(#1\right)}
\newcommand*{\sign}[1]{\Sign\left(#1\right)}

\newcommand*{\tpose}{^\mathsf{T}} 
\newcommand*{\inv}{^\mathsf{-1}}
\newcommand*{\Rt}[1]{[\R]_{#1}}
\newcommand*{\R}{\mathbb{R}}
\newcommand*{\n}{\mathbf{n}}
\newcommand*{\N}{\mathbb{N}}
\newcommand*{\Sone}{\mathbb{S}^1}
\newcommand*{\SxR}{\Sone \times \R}
\newcommand*{\Minv}{M^\mathsf{-1}}
\newcommand*{\Id}[1]{I_{#1}}
\newcommand*{\Zmat}[1]{\bm{0}_{#1}}
\newcommand*{\diff}[2]{\frac{d #1}{d #2}}
\newcommand*{\ddiff}[3]{\frac{d^2 #1}{d #2 d #3}}
\newcommand*{\pdiff}[2]{\frac{\partial #1}{\partial #2}}
\newcommand*{\ppdiff}[3]{\frac{\partial^2 #1}{\partial #2 \partial #3}}

\newcommand*{\simpleB}{\begin{bmatrix}\Zmat{(n-k)\times k}\\ \Id{k}\end{bmatrix}}
\newcommand*{\pdmat}{(\Id{n} \otimes p\tpose)\nabla_q\Minv(q)p}
\newcommand*{\pudmat}{(\Id{n-k} \otimes p\tpose)\nabla_{q_u}\Minv(q)p}
%---------- Text Layout ----------%
% Remove paragraph indenting and start new pars with a vertical space
% \usepackage[parfill]{parskip}

% Allow for use of minipages
% \usepackage{minipage-marginpar}

% Choose margin size
% \usepackage[margin=1in]{geometry}

%---------- Custom Text ----------%
\newcommand*{\ie}{\textit{i}.\textit{e}.}
\newcommand*{\eg}{\textit{e}.\textit{g}. }
\newcommand*{\etal}{\textit{et al}. }

%---------- Typography ----------%
\usepackage{booktabs}
\usepackage{xspace}
\usepackage{microtype}

\usepackage{fontspec}
\setmainfont{texgyrepagella}[
Extension=.otf,
UprightFont=*-regular,
ItalicFont=*-italic,
BoldFont=*-bold,
BoldItalicFont=*-bolditalic,
Numbers=OldStyle,
SmallCapsFeatures={LetterSpace=8},
]

\usepackage{unicode-math}
\setmathfont{texgyrepagella-math.otf}[Scale=MatchLowercase]
\setmathfont{XITSMath-Regular}[range=cal, Extension=.otf, Scale=MatchUppercase]

\usepackage[capitalize]{cleveref}
\crefname{thm}{theorem}{theorems}
\Crefname{thm}{Theorem}{Theorems}

\usepackage[]{caption}

\captionsetup[figure]{
	font={small},
	labelfont=sc
}

\captionsetup[table]{
	labelfont=sc
}

\frenchspacing

%---------- Figures ----------%
\usepackage{graphicx}
\usepackage{subcaption}
\usepackage{luamplib}
\mplibtextextlabel{enable}

\usepackage{adantikz}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%            Additional Instructions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% This style file assumes you will be using the XITS-Regular and
% XITSMath-Regular fonts; these do not come pre-installed on many TexLive
% distributions. To find out if you have them, go to your texlive location and
% search under the opentype fonts. For example, search under:
% /usr/share/texlive/texmf-dist/fonts/opentype/public/xits/
%
% If you do not have XITS-Regular.otf, etc. then you need to download them.
% 1. Find your local texlive through the command 
% `kpsewchich --var-value TEXMFLOCAL`
% 2. Go to this folder, and create the subfolder fonts/opentype/public/xits if
% it does not exist (you may need to use sudo)
% 3. Download the files through
% `sudo wget
% https://raw.githubusercontent.com/alif-type/xits/master/{filenames}.otf`
% where {filenames} is the list of .otf files found at
% github.com/alif-type/xits.
% 4. Create a .fonts.conf file in the directory of your main.tex, and put the
% line <your_texmflocal_dir>/fonts/opentype/public/xits/
% where <your_texmflocal_dir> is the folder location you found in step 1.
%%


% vim: set tw=80 ts=4 sw=4 sts=0 et ffs=unix :
