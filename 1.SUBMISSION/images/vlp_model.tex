%! TEX program = lualatex

% Use :VimtexToggleMain to compile this file alone with Vimtex
\documentclass[tikz]{standalone}

\usepackage{sty/adantikz}

\begin{document}
\begin{tikzpicture}
    % Set our length and angle
    \pgfmathsetmacro{\len}{3};
    \pgfmathsetmacro{\q}{70};
    \pgfmathsetmacro{\qc}{\len*cos(\q)};
    \pgfmathsetmacro{\qs}{\len*sin(\q)};
    % Define a coordinate for the origin
    \coordinate (origin) at (0,0);
    % The base of the pivot
    \draw[thick] (-2,0) -- (2,0);
    % Fill a cross-hatched wall above the pivot
    \fill[pattern=north east lines] (-2,0) rectangle (2,0.25);
    % The gravity arrow
    \draw[draw=gray, ->] (-1.5,-0.5) -- (-1.5,-1) node [right,black] {$g$};
    % The label for q and the arc defining it
    \draw[draw=gray, dashed] (origin) -- ++(0,-2.5) node [pos=0.5, right] {$q$};
    \draw ($(origin)+(0,-1)$) arc (-90:-25:0.3);
    % The string connecting the mass to the pivot
    \draw (origin) -- (\qc,-\qs) node [midway,right] {$l$};
    % The mass itself
    % label={angle:label_name}
    \node[draw=none,rotate=-\q, inner sep = 0pt, label={-20:$m$}] at (\qc,-\qs) {$\centerofmass$};
\end{tikzpicture}
\end{document}
% vim: set tw=80 ts=4 sw=4 sts=0 et ffs=unix :
